developer=https://aws.amazon.com/
url=${developer}
maintainer=http://indiecomputing.com/
pkgname=$(basename $(pwd))
pkgver=1.14.33
pkgrel=1
pkgdesc='Universal Command Line Interface for Amazon Web Services'
arch=('any')
source=("${pkgname}-${pkgver}.tar.gz::https://github.com/aws/aws-cli/archive/${pkgver}.tar.gz")
releasepage=('https://github.com/aws/aws-cli/releases')
depends=(
    'botocore'
    'groff'
    'jmespath'
    'python'
    'python-colorama'
    'python-dateutil'
    'python-docutils'
    'python-rsa'
    'python-yaml'
    's3transfer'
)
makedepends=('python-setuptools')
license=('Apache')
sha512sums=('c01dc8567cc1b8e36889e7d7c72e981321698bfb9207e56da0572f36d41abf0a97ca796d5f0e895a97c4c897456e5bb11c442a994211c7b0d89bbbfdf9d7a72c')

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  python setup.py install --root="${pkgdir}"

  rm ${pkgdir}/usr/bin/aws.cmd
  rm ${pkgdir}/usr/bin/{aws_completer,aws_zsh_completer.sh}

  install -Dpm644 'README.rst' 'requirements.txt' -t "${pkgdir}/usr/share/doc/${pkgname}/"
  install -Dpm644 'LICENSE.txt' "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
